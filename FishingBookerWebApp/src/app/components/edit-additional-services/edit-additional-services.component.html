<button class="close" mat-icon-button (click)="onDismiss()">
  <mat-icon>close</mat-icon>
</button>
<h1 mat-dialog-title>Edit additional services</h1>

<div mat-dialog-content style="height: calc(100% - 100px); max-height: unset">
  <div class="row d-flex justify-content-center">
    <table class="table table-responsive table-hover table-borderless addItemTable">
      <colgroup>
        <col span="1" style="width: 70%" />
        <col span="1" style="width: 30%" />
      </colgroup>
      <tbody>
        <tr *ngFor="let item of additional" (click)="selectItem(item)"
          [ngClass]="selectedItem == item ? 'selected' : 'notSelected'">
          <td>
            <mat-form-field>
              <mat-label>Name</mat-label>
              <input matInput type="name" [(ngModel)]="item.name" disabled>
            </mat-form-field>
          <td>
            <mat-form-field>
              <mat-label>Price</mat-label>
              <input matInput type="number" readonly [(ngModel)]="item.price" [readonly]="isReadOnly(item)">
            </mat-form-field>
          </td>
        </tr>
        <tr *ngIf="addNewItem">
          <td>
            <mat-form-field>
              <mat-label>Name</mat-label>
              <input matInput type="name" [(ngModel)]="newItem.name">
            </mat-form-field>
          <td>
            <mat-form-field>
              <mat-label>Price</mat-label>
              <input matInput type="number" [(ngModel)]="newItem.price">
            </mat-form-field>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<div mat-dialog-actions class="justify-content-center">
  <div class="d-flex">
    <button class="btn editAdditional ms-2 mt-3" [disabled]="selectedItem == null" (click)="edit()">
      <i class="bi bi-pencil mb-2" *ngIf="!editClicked"></i>
      <i class="bi bi-check mb-2" *ngIf="editClicked"></i>
    </button>
    <button class="btn editAdditional ms-2 mt-3" (click)="create()">
      <i class="bi bi-plus mb-2" *ngIf="!addNewItem"></i>
      <i class="bi bi-check mb-2" *ngIf="addNewItem"></i>
    </button>
    <button class="btn editAdditional ms-2 mt-3" (click)="delete()" [disabled]="selectedItem == null"><i
        class="bi bi-trash mb-2"></i></button>
  </div>
</div>
